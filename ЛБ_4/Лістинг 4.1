M_DIV = 13   
M_MUL = 16  

WORDS = ["СКІЛЬКИ","ВОВКА","НЕ","ГОДУЙ","А","ВІН","УСЕ","В","ЛІС","ДИВИТЬСЯ"]

LETTER_POSITIONS = {
'А':1,'Б':2,'В':3,'Г':4,'Ґ':5,'Д':6,'Е':7,'Є':8,'Ж':9,'З':10,'И':11,'І':12,
'Ї':13,'Й':14,'К':15,'Л':16,'М':17,'Н':18,'О':19,'П':20,'Р':21,'С':22,'Т':23,
'У':24,'Ф':25,'Х':26,'Ц':27,'Ч':28,'Ш':29,'Щ':30,'Ь':31,'Ю':32,'Я':33
}

A = 0.6180339887

def compute_key(word: str) -> int:
    total = 0
    for ch in word:
        total += LETTER_POSITIONS.get(ch, 0)
    return total

def hash_division(key: int) -> int:
    return key % M_DIV

def hash_multiplication(key: int) -> int:
    frac = (key * A) % 1
    return int(M_MUL * frac)  

def build_open_hash_table(words: list, method: str) -> list:
    if method == "division":
        table = [[] for _ in range(M_DIV)]
    else:
        table = [[] for _ in range(M_MUL)]

    for word in words:
        key = compute_key(word)

        if method == "division":
            address = hash_division(key)
        else:
            address = hash_multiplication(key)

        table[address].append(word)

    return table

def display_table(table, title):
    print("\n---", title, "---")
    for i, chain in enumerate(table):
        print(f"Індекс {i:02d}: {chain}")

table_div = build_open_hash_table(WORDS, "division")
table_mul = build_open_hash_table(WORDS, "multiplication")

display_table(table_div, "Хешування (метод ділення, M=13)")
display_table(table_mul, "Хешування (метод множення, M=16)")
